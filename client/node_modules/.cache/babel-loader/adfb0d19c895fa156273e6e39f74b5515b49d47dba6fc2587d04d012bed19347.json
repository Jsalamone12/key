{"ast":null,"code":"import _toConsumableArray from\"/Users/jsalamone/Desktop/Coding_Dojo/JavaScript/express/Shop/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jsalamone/Desktop/Coding_Dojo/JavaScript/express/Shop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shopList=_useState2[0],SetShopList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),shop=_useState4[0],setShop=_useState4[1];var _useParams=useParams(),_id=_useParams._id;useEffect(function(){axios.get(\"http://localhost:8000/api/shops\").then(function(res){SetShopList(res.data);}).catch(function(error){return console.log(error);});},[]);var handleDelete=function handleDelete(deleteId){axios.delete(\"http://localhost:8000/api/shops/\".concat(deleteId)).then(function(res){var filteredList=shopList.filter(function(eachShop){return eachShop._id!==deleteId;});var mapSort1=new Map(_toConsumableArray(filteredList.entries()).sort(function(a,b){return b[1]-a[1];}));console.log(mapSort1);SetShopList(filteredList);}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Store Finder\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find stores in your area!\"}),/*#__PURE__*/_jsxs(\"table\",{style:{border:\"solid\"},className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{borderRight:\"solid\"},className:\"bg-secondary\",children:\"Store\"}),/*#__PURE__*/_jsx(\"th\",{style:{borderRight:\"solid\"},className:\"bg-secondary\",children:\"Store Number\"}),/*#__PURE__*/_jsx(\"th\",{style:{borderRight:\"solid\"},className:\"bg-secondary\",children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{style:{borderRight:\"solid\"},className:\"bg-secondary\",children:\"Remove\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:shopList.map(function(eachShop,idx){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{borderRight:\"solid\"},children:[\" \",/*#__PURE__*/_jsxs(Link,{to:\"/shops/\".concat(eachShop._id),children:[eachShop.store,\" \"]})]}),/*#__PURE__*/_jsxs(\"td\",{style:{borderRight:\"solid\"},children:[\" \",eachShop.number]}),/*#__PURE__*/_jsxs(\"td\",{style:{borderRight:\"solid\"},children:[\"  \",eachShop.isOpen?\"True\":\"False\"]}),/*#__PURE__*/_jsx(\"td\",{children:eachShop.isOpen&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger text-black\",onClick:function onClick(){return handleDelete(eachShop._id);},children:\"Delete\"})})]},idx);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-primary text-black\",to:\"/shops/new\",children:\" Cant find your store?\"})})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","_useState","_useState2","_slicedToArray","shopList","SetShopList","_useState3","_useState4","shop","setShop","_useParams","_id","get","then","res","data","catch","error","console","log","handleDelete","deleteId","delete","concat","filteredList","filter","eachShop","mapSort1","Map","_toConsumableArray","entries","sort","a","b","children","style","border","className","borderRight","map","idx","to","store","number","isOpen","onClick"],"sources":["/Users/jsalamone/Desktop/Coding_Dojo/JavaScript/express/Shop/client/src/views/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport axios from \"axios\"\n\nconst Dashboard = () => {\n    const [shopList, SetShopList] = useState([])\n    const [shop, setShop] = useState(null)\n\n    const { _id } = useParams()\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/shops`)\n            .then(res => {\n                SetShopList(res.data)\n            })\n            .catch(error => console.log(error))\n    }, [])\n\n\n    const handleDelete = (deleteId=>{\n        axios.delete(`http://localhost:8000/api/shops/${deleteId}`)\n            .then(res=>{\n                const filteredList = shopList.filter((eachShop)=>eachShop._id !== deleteId)\n                const mapSort1 = new Map([...filteredList.entries()].sort((a, b) => b[1] - a[1]));\nconsole.log(mapSort1);\n                SetShopList(filteredList)\n            })\n            .catch(error=>console.log(error))\n    })\n\n    return (\n        <div>\n\n            <h1>Store Finder</h1>\n            <p>Find stores in your area!</p>\n\n            <table style={{border: \"solid\"}} className='table table-striped'>\n                <thead>\n                    <tr>\n                        <th style={{borderRight: \"solid\"}} className=\"bg-secondary\">Store</th>\n                        <th style={{borderRight: \"solid\"}} className=\"bg-secondary\">Store Number</th>\n                        <th style={{borderRight: \"solid\"}} className=\"bg-secondary\">Open</th>\n                        <th style={{borderRight: \"solid\"}} className=\"bg-secondary\">Remove</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        shopList.map((eachShop, idx) => (\n                            <tr  key={idx}>\n                                <td style={{borderRight: \"solid\"}} > <Link to={`/shops/${eachShop._id}`}>{eachShop.store} </Link></td>\n                                <td style={{borderRight: \"solid\"}}> {eachShop.number}</td>\n                                <td style={{borderRight: \"solid\"}}>  {eachShop.isOpen ? \"True\" : \"False\"}</td>\n\n                            \n                        \n                                 <td>{eachShop.isOpen &&<button className='btn btn-outline-danger text-black' onClick={() => handleDelete(eachShop._id)}>Delete</button>}</td> \n\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n            <p><Link className='btn btn-outline-primary text-black' to=\"/shops/new\"> Cant find your store?</Link></p>\n\n        </div>\n    )\n}\n\nexport default Dashboard\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}